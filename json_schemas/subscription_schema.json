{
    "$defs": {
        "SubscriptionPlan": {
            "enum": [
                "BASIC",
                "PREMIUM",
                "ENTERPRISE"
            ],
            "title": "SubscriptionPlan",
            "type": "string"
        },
        "SubscriptionStatus": {
            "enum": [
                "ACTIVE",
                "INACTIVE",
                "TRIALING",
                "CANCELLED"
            ],
            "title": "SubscriptionStatus",
            "type": "string"
        }
    },
    "properties": {
        "id": {
            "pattern": "^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$",
            "title": "Id",
            "type": "string"
        },
        "created_at": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
            "title": "Created At",
            "type": "string"
        },
        "updated_at": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
            "title": "Updated At",
            "type": "string"
        },
        "version": {
            "default": 1,
            "minimum": 1,
            "title": "Version",
            "type": "integer"
        },
        "is_active": {
            "default": true,
            "title": "Is Active",
            "type": "boolean"
        },
        "metadata": {
            "title": "Metadata",
            "type": "object"
        },
        "user_id": {
            "pattern": "^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$",
            "title": "User Id",
            "type": "string"
        },
        "stripe_customer_id": {
            "anyOf": [
                {
                    "maxLength": 30,
                    "minLength": 1,
                    "pattern": "^cus_\\w{1,30}$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Stripe Customer Id"
        },
        "stripe_subscription_id": {
            "anyOf": [
                {
                    "maxLength": 30,
                    "minLength": 1,
                    "pattern": "^sub_\\w{1,30}$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Stripe Subscription Id"
        },
        "subscription_plan": {
            "$ref": "#/$defs/SubscriptionPlan"
        },
        "subscription_status": {
            "$ref": "#/$defs/SubscriptionStatus"
        },
        "current_period_start": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Current Period Start"
        },
        "current_period_end": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Current Period End"
        },
        "cancel_at": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Cancel At"
        },
        "canceled_at": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Canceled At"
        },
        "trial_start": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Trial Start"
        },
        "trial_end": {
            "anyOf": [
                {
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "title": "Trial End"
        }
    },
    "required": [
        "id",
        "created_at",
        "updated_at",
        "user_id",
        "subscription_plan",
        "subscription_status"
    ],
    "title": "Subscription",
    "type": "object"
}